<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        const results = ['ROCK', 'PAPER', 'SCISSORS']  
        const MAXPOINTS = 5
        
        let playerPoints = 0
        let computerPoints = 0

        function getComputerChoice() {
            
            let randomNumber = Math.floor(Math.random() * results.length)
            let result = results[randomNumber]
            return result
        }

        function playRound(playerSelection, computerSelection) {

            //invalid data
            if (playerSelection != 'ROCK' && playerSelection != 'PAPER' && playerSelection != 'SCISSORS') {
                return "ERROR: YOU MUST ENTER A CORRECT DATA"
            
            //in case game draw
            } else if (playerSelection == computerSelection) {
                return "IT'S A TIE!"
            
            //in case player wins the round
            } else if (playerSelection == "ROCK" && computerSelection == "SCISSORS" ||
                      playerSelection == "PAPER" && computerSelection == "ROCK" ||
                      playerSelection == "SCISSORS" && computerSelection == "PAPER") {
                playerPoints ++
                return `YOU WIN! ${playerSelection} BEATS ${computerSelection}!`
                
            //in case computer wins the round
            } else { computerPoints ++
                return `YOU LOOSE! ${computerSelection} BEATS ${playerSelection}!`
                
            }

        }

        function game() {

            console.log("Welcome to Rock, Paper, Scissors: The ultimate game")

            for (i=0; i < MAXPOINTS; i++) {
                const computerSelection = getComputerChoice()
                const playerSelection = prompt(`PLEASE, CHOOSE ONE: ${results}`).toUpperCase()
                console.log(playRound(playerSelection, computerSelection))
                console.log(playerPoints)
                console.log(computerPoints)
            }

            if (playerPoints > computerPoints) {
                console.log("YOU ARE THE WINNER!!! CONGRATS!!!")
            } else { (playerPoints < computerPoints) 
                console.log("YOU LOST!!! YOU CAN TRY AGAIN PRESSING THE BUTTON!!!")
            }

            playerPoints = 0
            computerPoints = 0
        }

        game()

    </script>

    <h1>
        Rock, Paper & Scissors
    </h1>

    <h2> 
        <button onclick="document.getElementById = game()">Play again</button>
    </h2>
    
</body>
</html>